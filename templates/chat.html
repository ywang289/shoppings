<!DOCTYPE html>
<html lang="en">
    <style>
        .container-fluid{
          background-color: #95bcef;
          color: #050505;
        }
        body{
    background-color:  #c9c4de;
  }
        p {
          font-style: oblique;
        }
        .jumbotron{
            background-image: url("../static/images/sakura.jpg");
                  background-position: center;
                  background-repeat: no-repeat;
                  position: relative;
                  background-size: cover;
                  
      
              }
      
              body {font-family: Arial, Helvetica, sans-serif;}
      
      
              /* Set a style for all buttons */
              .button{
                  background-color: #8f858e;
                  color: black;
                  padding: 14px 20px;
                  margin: 8px 0;
                  border: none;
                  cursor: pointer;
                  width: 100%;
              }
      
              button:hover {
                  opacity: 0.8;
              }
      
              /* Extra styles for the cancel button */
              .cancelbtn {
                  width: auto;
                  padding: 10px 18px;
                  background-color: black;
                  color: white;
              }
      
              /* Center the image and position the close button */
              /*.imgcontainer {*/
              /*    text-align: center;*/
              /*    position: relative;*/
              /*}*/
              .imgcontainer {
                text-align: center;
                position: relative;
                height: 30px;
                font-size: x-large;
              }
              img.avatar {
                  width: 40%;
                  border-radius: 50%;
              }
      
              .container {
                  padding: 16px;
              }
      
              span.psw {
                  float: right;
                  padding-top: 16px;
              }
      
              /* The Modal (background) */
              .modal {
                  display: none; /* Hidden by default */
                  position: fixed; /* Stay in place */
                  z-index: 1050; /* Sit on top */
                  left: 0;
                  top: 0;
                  width: 100%; /* Full width */
                  height: 100%; /* Full height */
                  overflow: auto; /* Enable scroll if needed */
                  background-color: rgb(0,0,0); /* Fallback color */
                  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
                  padding-top: 60px;
              }
      
             
             
      
              textarea {
                  width: 100%;
                  height: 100px;
                  padding: 12px 20px;
                  box-sizing: border-box;
                  border: 2px solid #ccc;
                  border-radius: 4px;
                  background-color: #c5bcc5;
                  font-size: 16px;
              }
              
             
              h1{
                text-align: center;
            }
            form{
                text-align: center;
            }
            p{
                text-align:center;
                -webkit-text-stroke-color: aliceblue;}
           
          </style>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Chat page for {{ username }}</title>
    <link rel="stylesheet" href="../static/css/style.css">
</head>

<body>
   
    <div class="jumbotron">
        <div class="text-center">
          <h1 style="font-style: oblique">6770 !</h1>
        </div>
      </div>
    <h1>Welcome, {{ username }}</h1>
    <div class="modal-body">

   

    <form method="POST">
        <textarea cols="50" rows="4" name="message" id="message"></textarea>
        <br>
        <input type="submit" value="Send message" class="btn btn-info">
    </form>

    {% for message in chat_messages %}
    <p>({{ message.timestamp }}) {{ message.from }}: {{ message.message}}</p>
    {% endfor %}

    <script>
        let textbox = document.getElementById("message");

        let timer = setTimeout(function() {
            location.reload();
        }, 10000);
        // Every 5 seconds, messages will get refreshed 

        textbox.onkeydown = function(e) { // Once key pressed, then function starts & timer stops
            clearTimeout(timer)

            timer = setTimeout(function() {
                location.reload(); // reload starts whole process again
            }, 10000) // User get 5 seconds between key presses to continue writing their message
        };

    </script>

       


<HR style="FILTER: progid:DXImageTransform.Microsoft.Shadow(color:#987cb9,direction:145,strength:15)" width="100%" color=#987cb9 SIZE=10>
   
    <p>want to end <a href="/after">click here</a></p>
    <form action="/delete" method="POST" enctype="multipart/form-data">
        <p style="color: #140524">
            Want to delete
               </p>
    
               <input type="submit" value="Delete" class="btn btn-info" style="height:5% ;">
    </form>




</body>

</html>
